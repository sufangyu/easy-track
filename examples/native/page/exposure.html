<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>native-js-demo</title>
    <script src="../static/js/index.umd.js"></script>
    <script src="../static/js/init.js"></script>
    <style>
      .mb-6 {
        margin-bottom: 48px;
      }
      .text-center {
        text-align: center;
      }
      .box {
        width: 100%;
        background-color: #eee;
        height: 250px;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>

  <body>
    <h1>元素曝光</h1>
    <div class="mb-6">
      <a href="./index.html">跳到 Index 页面</a>
    </div>

    <div class="mb-6">
      监听阈值(threshold)解释：阀值默认为0.5，当为0.5时代表滚动超过图片达到一半时即为曝光结束
    </div>
    <div class="mb-6">同理当为0.5时，代表滚动视图能看到图片一半时即为曝光开始</div>
    
    <div class="mb-6">
      <p style="text-align: center;">
        <img style="max-width: 100%;" data-exposure-track src="https://aecpm.alicdn.com/simba/img/TB183NQapLM8KJjSZFBSutJHVXa.jpg" alt="" />
      </p>
    </div>
    <div class="mb-6 text-center">
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
    </div>
    
    <div class="mb-6">
      <p style="text-align: center;">
        <img
          style="max-width: 100%;"
          data-exposure-track
          src="https://aecpm.alicdn.com/simba/img/TB183NQapLM8KJjSZFBSutJHVXa.jpg"
          alt=""
        />
      </p>
    </div>
    
    <div class="mb-6 text-center">
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
    </div>

    <div class="mb-6">
      <div data-exposure-track data-exposure-name="模块-1" class="box">
        被监控曝光的元素 - 1
      </div>
    </div>
    <div class="mb-6 text-center">
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
    </div>
    
    <div class="mb-6">
      <div data-exposure-track data-exposure-name="模块-2" class="box">
        被监控曝光的元素 - 2
      </div>
    </div>
    
    <div class="mb-6 text-center">
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
    </div>
    
    <div class="mb-6">
      <div data-exposure-track data-exposure-name="模块-3" :data-exposure-params="JSON.stringify({ name: 'zsf', age: 18 })"
        class="box">
        被监控曝光的元素 - 3
      </div>
    </div>
    
    <div class="text-center">
      <button id="visibility-trigger">显示监控元素</button>
    </div>
    
    <div class="mb-6 text-center">
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
      <div>----------- 分割线 -----------</div>
    </div>
    
    <div class="mb-6" id="visibility" style="display: none;">
      <div data-exposure-track data-exposure-name="被监控曝光的元素（显示/隐藏）" class="box">
        被监控曝光的元素（显示/隐藏）
      </div>
    </div>

    <script>
      var $visibilityTrigger = document.querySelector('#visibility-trigger');
      var $visibility = document.querySelector('#visibility');
      var isShowed = false;

      $visibilityTrigger.addEventListener('click', function () {
        if (isShowed) {
          $visibility.style.display = 'none';
          $visibilityTrigger.innerHTML = '显示监控元素';
        } else {
          $visibility.style.display = 'block';
          $visibilityTrigger.innerHTML = '隐藏监控元素';
        }

        isShowed = !isShowed;
      });

    </script>
  </body>
</html>
